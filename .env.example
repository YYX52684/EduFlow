# ===========================================
# EduFlow 配置文件示例
# 复制此文件为 .env 并填写你的配置
# ===========================================

# -------------------------------------------
# DeepSeek API 配置
# -------------------------------------------
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# DeepSeek 模型（可选，默认 deepseek-chat）
DEEPSEEK_MODEL=deepseek-chat

# 可选：Anthropic API Key（如需使用 Claude）
# ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ========================================
# 智慧树平台配置（卡片注入功能需要）
# ========================================

# 平台 API 基础 URL（注意是 cloudapi 子域名）
PLATFORM_BASE_URL=https://cloudapi.polymas.com

# Authorization JWT Token（从请求头获取）
PLATFORM_AUTHORIZATION=

# 平台认证 Cookie（从浏览器开发者工具获取）
PLATFORM_COOKIE=

# 课程 ID（从 URL 获取，如 /agent-course-full/xxx/）
PLATFORM_COURSE_ID=

# 训练任务 ID（从请求体获取）
PLATFORM_TRAIN_TASK_ID=

# 起始节点 ID（训练开始）- 从页面调试工具获取，type="SCRIPT_START"
PLATFORM_START_NODE_ID=

# 结束节点 ID（训练结束）- 从页面调试工具获取，type="SCRIPT_END"
PLATFORM_END_NODE_ID=

# ========================================
# 卡片节点默认配置（字段名已通过抓包确认）
# ========================================

# AI 模型 ID -> modelId（空字符串使用默认）
CARD_MODEL_ID=Doubao-Seed-1.6

# 历史记录数量 -> historyRecordNum（0=不保留，-1=全部）
CARD_HISTORY_NUM=-1

# 虚拟训练官名字 -> trainerName（空字符串使用默认）
CARD_TRAINER_NAME=ai

# 默认交互轮次 -> interactiveRounds（若 LLM 未指定）
CARD_DEFAULT_INTERACTION_ROUNDS=5

# ========================================
# 豆包 API 配置（公司内网）
# ========================================
# 豆包 API 密钥：选豆包时使用；若配置此项，用户未设置 Key 时将自动使用此项作为默认（不向用户暴露）
LLM_API_KEY=your_doubao_api_key_here
LLM_MODEL=Doubao-1.5-pro-32k
LLM_API_URL=http://llm-service.polymas.com/api/openai/v1/chat/completions
LLM_SERVICE_CODE=SI_Ability

# 模型选择: deepseek | doubao
MODEL_TYPE=doubao

# ========================================
# 邮件 SMTP（找回密码发链接等，不配则接口里返回链接）
# 企业微信邮箱示例（腾讯企业邮箱）：
# ========================================
SMTP_HOST=smtp.exmail.qq.com
SMTP_PORT=465
SMTP_USE_SSL=1
SMTP_USER=your_smtp_user@example.com
SMTP_PASSWORD=your_smtp_password
MAIL_FROM=EduFlow <your_smtp_user@example.com>

# -------------------------------------------
# 用户认证（可选，启用后需登录才能使用工作区）
# -------------------------------------------
# 生产环境：设为 production 后，必须配置 JWT_SECRET 且不能为默认值，否则服务拒绝启动
# EDUFLOW_ENV=production
# JWT 密钥（生产环境必填：设为随机长字符串）
# JWT_SECRET=your_random_secret_here
